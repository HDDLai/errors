2025-07-06T04:16:30Z [web] <Firebase Studio> Starting preview...
2025-07-06T04:16:31Z [web] Waiting for your web server to start serving
2025-07-06T04:16:38Z [web] 
2025-07-06T04:16:38Z [web] > nextn@0.1.0 dev
2025-07-06T04:16:38Z [web] > next dev --turbopack -p 9002 --port 9002 --hostname 0.0.0.0
2025-07-06T04:16:38Z [web] 
2025-07-06T04:16:48Z [web] <Firebase Studio> ▶️ Preview running
2025-07-06T04:16:50Z [web]    ▲ Next.js 15.3.3 (Turbopack)
2025-07-06T04:16:50Z [web]    - Local:        http://localhost:9002
2025-07-06T04:16:50Z [web]    - Network:      http://0.0.0.0:9002
2025-07-06T04:16:50Z [web]    - Environments: .env.local, .env
2025-07-06T04:16:50Z [web] 
2025-07-06T04:16:50Z [web]  ✓ Starting...
2025-07-06T04:16:58Z [web]  ✓ Ready in 10.6s
2025-07-06T04:16:59Z [web]  ○ Compiling / ...
2025-07-06T04:17:39Z [web]  ✓ Compiled / in 40.4s
2025-07-06T04:17:41Z [web]  GET /?monospaceUid=0 200 in 42897ms
2025-07-06T04:17:41Z [web]  GET /?monospaceUid=166280 200 in 42870ms
2025-07-06T04:17:43Z [web] Error:  ⚠ Cross origin request detected from 9000-firebase-studio-1751489770040.cluster-pgviq6mvsncnqxx6kr7pbz65v6.cloudworkstations.dev to /_next/* resource. In a future major version of Next.js, you will need to explicitly configure "allowedDevOrigins" in next.config to allow this.
2025-07-06T04:17:43Z [web] Read more: https://nextjs.org/docs/app/api-reference/config/next-config-js/allowedDevOrigins
2025-07-06T04:17:43Z [web] 
2025-07-06T04:17:43Z [web]  ○ Compiling /api/onboarding/initial-data ...
2025-07-06T04:17:54Z [web]  ✓ Compiled /api/onboarding/initial-data in 11.6s
2025-07-06T04:17:56Z [web] Error: Warning: Environment variable OPENAI_API_KEY is not set.
2025-07-06T04:17:56Z [web] 
2025-07-06T04:17:56Z [web] Error: Warning: Environment variable DEEPSEEK_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable QWEN_API_KEY is not set.
2025-07-06T04:17:56Z [web] 
2025-07-06T04:17:56Z [web] Error: Warning: Environment variable NEBIUS_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable KIMI_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable OPENROUTER_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable LLAMA_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable LLAMA_API_ENDPOINT is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable MISTRAL_API_KEY is not set.
2025-07-06T04:17:56Z [web] Warning: Environment variable MISTRAL_API_ENDPOINT is not set.
2025-07-06T04:17:56Z [web] 
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: Module top level.
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: No Firebase apps initialized. Attempting initialization...
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: Attempting to read service account key from resolved absolute path: /home/user/studio/.secure/huddle-ai-development.firebase-service-account-key-2.json
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: Service account key file read and parsed successfully. Project ID from key: huddle-ai-development
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: Firebase Admin SDK initialized successfully. App name: [DEFAULT]
2025-07-06T04:17:59Z [web] [HuddleAI] firebaseAdmin.ts: Firestore and Auth services obtained successfully from app.
2025-07-06T04:17:59Z [web] [adminConfigManager] Attempting to load RoleAssignment 'SystemModerator_Default' from Firestore.
2025-07-06T04:18:00Z [web] [adminConfigManager] RoleAssignment 'SystemModerator_Default' loaded and cached.
2025-07-06T04:18:01Z [web] Error: [API /initial-data] Error fetching initial onboarding data: ReferenceError: getPersona is not defined
2025-07-06T04:18:01Z [web]     at GET (src/app/api/onboarding/initial-data/route.ts:25:20)
2025-07-06T04:18:01Z [web]   23 |
2025-07-06T04:18:01Z [web]   24 |     // 2. Get the Persona object for the assigned moderator
2025-07-06T04:18:01Z [web] > 25 |     const persona = await getPersona(moderatorPersonaId);
2025-07-06T04:18:01Z [web]      |                    ^
2025-07-06T04:18:01Z [web]   26 |     if (!persona) {
2025-07-06T04:18:01Z [web]   27 |       console.error(`[API /initial-data] Assigned Moderator persona '${moderatorPersonaId}' not found.`);
2025-07-06T04:18:01Z [web]   28 |       return NextResponse.json({ error: `Assigned Moderator persona '${moderatorPersonaId}' not found.` }, { status: 500 });
2025-07-06T04:18:01Z [web] 
2025-07-06T04:18:01Z [web]  GET /api/onboarding/initial-data?contextName=Outline 500 in 18097ms
